const _0x25bb1b=_0x4a19;(function(_0x244680,_0x346dfb){const _0x4bad92=_0x4a19,_0x4f3b9c=_0x244680();while(!![]){try{const _0x3d5845=-parseInt(_0x4bad92(0x154))/0x1*(parseInt(_0x4bad92(0xe1))/0x2)+-parseInt(_0x4bad92(0x14b))/0x3*(-parseInt(_0x4bad92(0xe4))/0x4)+-parseInt(_0x4bad92(0x122))/0x5*(-parseInt(_0x4bad92(0x141))/0x6)+parseInt(_0x4bad92(0x110))/0x7*(parseInt(_0x4bad92(0x13c))/0x8)+parseInt(_0x4bad92(0x11e))/0x9+-parseInt(_0x4bad92(0x108))/0xa+-parseInt(_0x4bad92(0xf6))/0xb;if(_0x3d5845===_0x346dfb)break;else _0x4f3b9c['push'](_0x4f3b9c['shift']());}catch(_0x5efd3c){_0x4f3b9c['push'](_0x4f3b9c['shift']());}}}(_0x281e,0xbe141),process[_0x25bb1b(0x146)][_0x25bb1b(0x115)]='0');import'./config.js';import{createRequire}from'module';import _0x39af5c,{join}from'path';import{fileURLToPath,pathToFileURL}from'url';import{platform}from'process';import*as _0x354f63 from'ws';import{readdirSync,statSync,unlinkSync,existsSync,readFileSync,watch,rmSync}from'fs';import _0x3156dd from'yargs';import{spawn}from'child_process';import _0xd8843a from'lodash';import _0x714b21 from'chalk';import _0x52ac24 from'syntax-error';import{tmpdir}from'os';import{format}from'util';import{makeWASocket,protoType,serialize}from'./lib/simple.js';import{Low,JSONFile}from'lowdb';import _0x5a9621 from'pino';import{mongoDB,mongoDBV2}from'./lib/mongoDB.js';function _0x281e(){const _0x12ad49=['messages.upsert','entries','catch','@adiwajshing/baileys','warn','test','./server.js','13672TlcpFu','Quick\x20Test\x20Done','keys','filter','error\x20require\x20plugin\x20\x27','810948FbSztG','Hello,\x20@user\x0aWelcome\x20to\x20@group','push','authFile','close','env','groups.update','GURU-BOT','reload','module','2181pMpjDK','freeze','Please\x20install\x20ffmpeg\x20for\x20sending\x20videos\x20(pkg\x20install\x20ffmpeg)','config','participantsUpdate','chats','all','statusCode','\x5c$&','444257vSHVxE','PORT','off','ffmpeg','read','handler','mongodbv2','Group\x20description\x20changed\x20\x0a@desc','ffprobe','connection.update','bye','localeCompare','output','dirname','‎z/i!#$%+£¢€¥^°=¶∆×÷π√✓©®:;?&.,\x5c-','argv','timestamp','2xEAlGF','default','__dirname','5232YqyPdA','readyState','./plugins/index','data','syntax\x20error\x20while\x20loading\x20\x27','MONGO_DB','group-participants.update','--version','./tmp','API','toString','READ','Stickers\x20may\x20not\x20animated\x20without\x20libwebp\x20on\x20ffmpeg\x20(--enable-ibwebp\x20while\x20compiling\x20ffmpeg)','connectionUpdate','welcome','sdemote','loggedOut','url','9515605zrOnMN','logger','silent','find','sSubject','webp','removeAllListeners','convert','chain','opts','@user\x20now\x20admin','\x20updated\x20plugin\x20-\x20\x27','magick','win32','info','mtimeMs','__require','sessions','2657520hrJANm','database.json','now','error','SERVER_PORT','log','groupsUpdate','write','1638InDdHn','loadDatabase','creds.update','color','support','NODE_TLS_REJECT_UNAUTHORIZED','sRevoke','Group\x20subject\x20cchanged\x20\x0a@group','slice','uncaughtException','__filename','exitProcess','isInit','conn','4159539WKEoBv','then','sort','plugins','20jMECmH','-frames:v','onDelete','forEach','message.delete','APIs','sIcon','-filter_complex','-hide_banner','?update=','deleted\x20plugin\x20-\x20\x27','bind','reloadHandler','credsUpdate','server','race','Group\x20link\x20changed\x20\x0a@revoke','./handler.js?update=','deleteUpdate'];_0x281e=function(){return _0x12ad49;};return _0x281e();}import _0x28dc30 from'./lib/store.js';const {DisconnectReason,useMultiFileAuthState}=await import(_0x25bb1b(0x138)),{CONNECTING}=_0x354f63,{chain}=_0xd8843a,PORT=process[_0x25bb1b(0x146)][_0x25bb1b(0x155)]||process[_0x25bb1b(0x146)][_0x25bb1b(0x10c)]||0xbb8;import _0x343b77 from'dotenv';protoType(),serialize(),_0x343b77[_0x25bb1b(0x14e)](),global['__filename']=function filename(_0x1dd44b=import.meta[_0x25bb1b(0xf5)],_0x27389d=platform!==_0x25bb1b(0x103)){const _0x39147b=_0x25bb1b;return _0x27389d?/file:\/\/\//['test'](_0x1dd44b)?fileURLToPath(_0x1dd44b):_0x1dd44b:pathToFileURL(_0x1dd44b)[_0x39147b(0xee)]();},global[_0x25bb1b(0xe3)]=function dirname(_0x33737d){const _0x2934c2=_0x25bb1b;return _0x39af5c[_0x2934c2(0x161)](global[_0x2934c2(0x11a)](_0x33737d,!![]));},global[_0x25bb1b(0x106)]=function require(_0x32a784=import.meta[_0x25bb1b(0xf5)]){return createRequire(_0x32a784);},global[_0x25bb1b(0xed)]=(_0x306bdd,_0x3be564='/',_0x5d52b0={},_0x223499)=>(_0x306bdd in global[_0x25bb1b(0x127)]?global[_0x25bb1b(0x127)][_0x306bdd]:_0x306bdd)+_0x3be564+(_0x5d52b0||_0x223499?'?'+new URLSearchParams(Object[_0x25bb1b(0x136)]({..._0x5d52b0,..._0x223499?{[_0x223499]:global['APIKeys'][_0x306bdd in global[_0x25bb1b(0x127)]?global[_0x25bb1b(0x127)][_0x306bdd]:_0x306bdd]}:{}})):''),global[_0x25bb1b(0xe0)]={'start':new Date()};const __dirname=global[_0x25bb1b(0xe3)](import.meta[_0x25bb1b(0xf5)]);global[_0x25bb1b(0xff)]=new Object(_0x3156dd(process[_0x25bb1b(0xdf)][_0x25bb1b(0x118)](0x2))[_0x25bb1b(0x11b)](![])['parse']()),global['prefix']=new RegExp('^['+(opts['prefix']||_0x25bb1b(0xde))['replace'](/[|\\{}()[\]^$+*?.\-\^]/g,_0x25bb1b(0x153))+']'),global[_0x25bb1b(0xff)]['db']=process[_0x25bb1b(0x146)][_0x25bb1b(0xe9)],global['db']=new Low(/https?:\/\//[_0x25bb1b(0x13a)](opts['db']||'')?new cloudDBAdapter(opts['db']):/mongodb(\+srv)?:\/\//i[_0x25bb1b(0x13a)](opts['db'])?opts[_0x25bb1b(0x15a)]?new mongoDBV2(opts['db']):new mongoDB(opts['db']):new JSONFile((opts['_'][0x0]?opts['_'][0x0]+'_':'')+_0x25bb1b(0x109))),global['DATABASE']=global['db'],global[_0x25bb1b(0x111)]=async function loadDatabase(){const _0x4dabf5=_0x25bb1b;if(global['db'][_0x4dabf5(0xef)])return new Promise(_0x475ff9=>setInterval(async function(){const _0x2b542a=_0x4dabf5;!global['db'][_0x2b542a(0xef)]&&(clearInterval(this),_0x475ff9(global['db'][_0x2b542a(0xe7)]==null?global[_0x2b542a(0x111)]():global['db'][_0x2b542a(0xe7)]));},0x1*0x3e8));if(global['db'][_0x4dabf5(0xe7)]!==null)return;global['db']['READ']=!![],await global['db'][_0x4dabf5(0x158)]()[_0x4dabf5(0x137)](console[_0x4dabf5(0x10b)]),global['db'][_0x4dabf5(0xef)]=null,global['db'][_0x4dabf5(0xe7)]={'users':{},'chats':{},'stats':{},'msgs':{},'sticker':{},'settings':{},...global['db']['data']||{}},global['db'][_0x4dabf5(0xfe)]=chain(global['db'][_0x4dabf5(0xe7)]);},loadDatabase(),global[_0x25bb1b(0x144)]=_0x25bb1b(0x107);const {state,saveState,saveCreds}=await useMultiFileAuthState(global[_0x25bb1b(0x144)]),connectionOptions={'printQRInTerminal':!![],'auth':state,'logger':_0x5a9621({'level':_0x25bb1b(0xf8)}),'browser':[_0x25bb1b(0x148),'Safari','1.0.0']};global[_0x25bb1b(0x11d)]=makeWASocket(connectionOptions),conn['isInit']=![];!opts[_0x25bb1b(0x13a)]&&setInterval(async()=>{const _0x209bef=_0x25bb1b;if(global['db'][_0x209bef(0xe7)])await global['db'][_0x209bef(0x10f)]()[_0x209bef(0x137)](console[_0x209bef(0x10b)]);if(opts['autocleartmp'])try{clearTmp();}catch(_0x4e998d){console[_0x209bef(0x10b)](_0x4e998d);}},0x3c*0x3e8);if(opts[_0x25bb1b(0x130)])(await import(_0x25bb1b(0x13b)))[_0x25bb1b(0xe2)](global['conn'],PORT);async function clearTmp(){const _0x5193a0=_0x25bb1b,_0x39b3a4=[tmpdir(),join(__dirname,_0x5193a0(0xec))],_0xf64565=[];return _0x39b3a4[_0x5193a0(0x125)](_0x3ac7a4=>readdirSync(_0x3ac7a4)['forEach'](_0x4ac15=>_0xf64565[_0x5193a0(0x143)](join(_0x3ac7a4,_0x4ac15)))),_0xf64565['map'](_0x444f75=>{const _0x51782e=_0x5193a0,_0x5e908f=statSync(_0x444f75);if(_0x5e908f['isFile']()&&Date[_0x51782e(0x10a)]()-_0x5e908f[_0x51782e(0x105)]>=0x3e8*0x3c*0x1)return unlinkSync(_0x444f75);return![];});}setInterval(async()=>{const _0x23f357=_0x25bb1b;var _0x4834e1=await clearTmp();console[_0x23f357(0x10d)](_0x714b21['cyan']('✅\x20\x20Auto\x20clear\x20\x20|\x20\x20tmp\x20folder\x20cleared'));},0xea60);function _0x4a19(_0x12460d,_0x5bab7b){const _0x281e20=_0x281e();return _0x4a19=function(_0x4a19c9,_0x2f00aa){_0x4a19c9=_0x4a19c9-0xde;let _0x2ecfa1=_0x281e20[_0x4a19c9];return _0x2ecfa1;},_0x4a19(_0x12460d,_0x5bab7b);}async function connectionUpdate(_0x142780){const _0x132173=_0x25bb1b,{connection:_0xd88682,lastDisconnect:_0x1811bb,isNewLogin:_0x3f5af0}=_0x142780;if(_0x3f5af0)conn[_0x132173(0x11c)]=!![];const _0x54ba2b=_0x1811bb?.[_0x132173(0x10b)]?.[_0x132173(0x160)]?.[_0x132173(0x152)]||_0x1811bb?.[_0x132173(0x10b)]?.[_0x132173(0x160)]?.['payload']?.[_0x132173(0x152)];_0x54ba2b&&_0x54ba2b!==DisconnectReason[_0x132173(0xf4)]&&conn?.['ws'][_0x132173(0xe5)]!==CONNECTING&&(console[_0x132173(0x10d)](await global['reloadHandler'](!![])[_0x132173(0x137)](console[_0x132173(0x10b)])),global[_0x132173(0xe0)]['connect']=new Date());if(global['db'][_0x132173(0xe7)]==null)loadDatabase();}process['on'](_0x25bb1b(0x119),console['error']);let isInit=!![],handler=await import('./handler.js');global[_0x25bb1b(0x12e)]=async function(_0x2650f2){const _0x3eaf2e=_0x25bb1b;try{const _0x7bbf64=await import(_0x3eaf2e(0x133)+Date[_0x3eaf2e(0x10a)]())[_0x3eaf2e(0x137)](console[_0x3eaf2e(0x10b)]);if(Object[_0x3eaf2e(0x13e)](_0x7bbf64||{})['length'])handler=_0x7bbf64;}catch(_0x48d8d2){console[_0x3eaf2e(0x10b)](_0x48d8d2);}if(_0x2650f2){const _0x1eecd1=global[_0x3eaf2e(0x11d)][_0x3eaf2e(0x150)];try{global[_0x3eaf2e(0x11d)]['ws']['close']();}catch{}conn['ev'][_0x3eaf2e(0xfc)](),global[_0x3eaf2e(0x11d)]=makeWASocket(connectionOptions,{'chats':_0x1eecd1}),isInit=!![];}return!isInit&&(conn['ev'][_0x3eaf2e(0x156)](_0x3eaf2e(0x135),conn[_0x3eaf2e(0x159)]),conn['ev'][_0x3eaf2e(0x156)](_0x3eaf2e(0xea),conn[_0x3eaf2e(0x14f)]),conn['ev']['off'](_0x3eaf2e(0x147),conn[_0x3eaf2e(0x10e)]),conn['ev'][_0x3eaf2e(0x156)](_0x3eaf2e(0x126),conn[_0x3eaf2e(0x124)]),conn['ev'][_0x3eaf2e(0x156)]('connection.update',conn['connectionUpdate']),conn['ev'][_0x3eaf2e(0x156)]('creds.update',conn['credsUpdate'])),conn[_0x3eaf2e(0xf2)]=_0x3eaf2e(0x142),conn[_0x3eaf2e(0x15e)]='Goodbye\x20@user',conn['spromote']=_0x3eaf2e(0x100),conn[_0x3eaf2e(0xf3)]='@user\x20demoted',conn['sDesc']=_0x3eaf2e(0x15b),conn[_0x3eaf2e(0xfa)]=_0x3eaf2e(0x117),conn[_0x3eaf2e(0x128)]='Group\x20icon\x20changed',conn[_0x3eaf2e(0x116)]=_0x3eaf2e(0x132),conn[_0x3eaf2e(0x159)]=handler['handler']['bind'](global[_0x3eaf2e(0x11d)]),conn[_0x3eaf2e(0x14f)]=handler[_0x3eaf2e(0x14f)][_0x3eaf2e(0x12d)](global['conn']),conn[_0x3eaf2e(0x10e)]=handler[_0x3eaf2e(0x10e)]['bind'](global[_0x3eaf2e(0x11d)]),conn[_0x3eaf2e(0x124)]=handler[_0x3eaf2e(0x134)][_0x3eaf2e(0x12d)](global[_0x3eaf2e(0x11d)]),conn[_0x3eaf2e(0xf1)]=connectionUpdate[_0x3eaf2e(0x12d)](global[_0x3eaf2e(0x11d)]),conn[_0x3eaf2e(0x12f)]=saveCreds[_0x3eaf2e(0x12d)](global['conn'],!![]),conn['ev']['on'](_0x3eaf2e(0x135),conn[_0x3eaf2e(0x159)]),conn['ev']['on'](_0x3eaf2e(0xea),conn[_0x3eaf2e(0x14f)]),conn['ev']['on'](_0x3eaf2e(0x147),conn[_0x3eaf2e(0x10e)]),conn['ev']['on'](_0x3eaf2e(0x126),conn[_0x3eaf2e(0x124)]),conn['ev']['on'](_0x3eaf2e(0x15d),conn['connectionUpdate']),conn['ev']['on'](_0x3eaf2e(0x112),conn[_0x3eaf2e(0x12f)]),isInit=![],!![];};const pluginFolder=global[_0x25bb1b(0xe3)](join(__dirname,_0x25bb1b(0xe6))),pluginFilter=_0x1af651=>/\.js$/[_0x25bb1b(0x13a)](_0x1af651);global[_0x25bb1b(0x121)]={};async function filesInit(){const _0x46241f=_0x25bb1b;for(let _0x4722b8 of readdirSync(pluginFolder)[_0x46241f(0x13f)](pluginFilter)){try{let _0x2d8eb7=global[_0x46241f(0x11a)](join(pluginFolder,_0x4722b8));const _0x2427a5=await import(_0x2d8eb7);global[_0x46241f(0x121)][_0x4722b8]=_0x2427a5[_0x46241f(0xe2)]||_0x2427a5;}catch(_0x31d402){conn['logger']['error'](_0x31d402),delete global[_0x46241f(0x121)][_0x4722b8];}}}filesInit()[_0x25bb1b(0x11f)](_0x46a8dd=>console[_0x25bb1b(0x10d)](Object['keys'](global[_0x25bb1b(0x121)])))[_0x25bb1b(0x137)](console[_0x25bb1b(0x10b)]),global[_0x25bb1b(0x149)]=async(_0x397b72,_0x206ec0)=>{const _0x322f13=_0x25bb1b;if(pluginFilter(_0x206ec0)){let _0x67589=global['__filename'](join(pluginFolder,_0x206ec0),!![]);if(_0x206ec0 in global[_0x322f13(0x121)]){if(existsSync(_0x67589))conn[_0x322f13(0xf7)][_0x322f13(0x104)](_0x322f13(0x101)+_0x206ec0+'\x27');else return conn[_0x322f13(0xf7)][_0x322f13(0x139)](_0x322f13(0x12c)+_0x206ec0+'\x27'),delete global[_0x322f13(0x121)][_0x206ec0];}else conn[_0x322f13(0xf7)][_0x322f13(0x104)]('new\x20plugin\x20-\x20\x27'+_0x206ec0+'\x27');let _0x4e9820=_0x52ac24(readFileSync(_0x67589),_0x206ec0,{'sourceType':_0x322f13(0x14a),'allowAwaitOutsideFunction':!![]});if(_0x4e9820)conn['logger'][_0x322f13(0x10b)](_0x322f13(0xe8)+_0x206ec0+'\x27\x0a'+format(_0x4e9820));else try{const _0x19dbb3=await import(global[_0x322f13(0x11a)](_0x67589)+_0x322f13(0x12b)+Date[_0x322f13(0x10a)]());global[_0x322f13(0x121)][_0x206ec0]=_0x19dbb3[_0x322f13(0xe2)]||_0x19dbb3;}catch(_0x2d2610){conn[_0x322f13(0xf7)][_0x322f13(0x10b)](_0x322f13(0x140)+_0x206ec0+'\x0a'+format(_0x2d2610)+'\x27');}finally{global[_0x322f13(0x121)]=Object['fromEntries'](Object['entries'](global['plugins'])[_0x322f13(0x120)](([_0xbc72bb],[_0x5c1fe3])=>_0xbc72bb[_0x322f13(0x15f)](_0x5c1fe3)));}}},Object['freeze'](global[_0x25bb1b(0x149)]),watch(pluginFolder,global[_0x25bb1b(0x149)]),await global[_0x25bb1b(0x12e)]();async function _quickTest(){const _0x54a5c7=_0x25bb1b;let _0x4205a4=await Promise[_0x54a5c7(0x151)]([spawn(_0x54a5c7(0x157)),spawn(_0x54a5c7(0x15c)),spawn(_0x54a5c7(0x157),[_0x54a5c7(0x12a),'-loglevel',_0x54a5c7(0x10b),_0x54a5c7(0x129),_0x54a5c7(0x113),_0x54a5c7(0x123),'1','-f',_0x54a5c7(0xfb),'-']),spawn(_0x54a5c7(0xfd)),spawn('magick'),spawn('gm'),spawn(_0x54a5c7(0xf9),[_0x54a5c7(0xeb)])]['map'](_0x2064c6=>{const _0x2d3ac0=_0x54a5c7;return Promise[_0x2d3ac0(0x131)]([new Promise(_0x153609=>{const _0x1042d5=_0x2d3ac0;_0x2064c6['on'](_0x1042d5(0x145),_0x3851c8=>{_0x153609(_0x3851c8!==0x7f);});}),new Promise(_0x421536=>{_0x2064c6['on']('error',_0x386267=>_0x421536(![]));})]);})),[_0x2dfa17,_0x3cf14b,_0x4ce0b3,_0xb9eece,_0x24d3b8,_0x3995b5,_0x5e7dcf]=_0x4205a4;console[_0x54a5c7(0x10d)](_0x4205a4);let _0xfc02cf=global[_0x54a5c7(0x114)]={'ffmpeg':_0x2dfa17,'ffprobe':_0x3cf14b,'ffmpegWebp':_0x4ce0b3,'convert':_0xb9eece,'magick':_0x24d3b8,'gm':_0x3995b5,'find':_0x5e7dcf};Object[_0x54a5c7(0x14c)](global[_0x54a5c7(0x114)]);if(!_0xfc02cf[_0x54a5c7(0x157)])conn[_0x54a5c7(0xf7)][_0x54a5c7(0x139)](_0x54a5c7(0x14d));if(_0xfc02cf[_0x54a5c7(0x157)]&&!_0xfc02cf['ffmpegWebp'])conn[_0x54a5c7(0xf7)][_0x54a5c7(0x139)](_0x54a5c7(0xf0));if(!_0xfc02cf[_0x54a5c7(0xfd)]&&!_0xfc02cf[_0x54a5c7(0x102)]&&!_0xfc02cf['gm'])conn[_0x54a5c7(0xf7)][_0x54a5c7(0x139)]('Stickers\x20may\x20not\x20work\x20without\x20imagemagick\x20if\x20libwebp\x20on\x20ffmpeg\x20doesnt\x20isntalled\x20(pkg\x20install\x20imagemagick)');}_quickTest()[_0x25bb1b(0x11f)](()=>conn[_0x25bb1b(0xf7)]['info'](_0x25bb1b(0x13d)))[_0x25bb1b(0x137)](console[_0x25bb1b(0x10b)]);
